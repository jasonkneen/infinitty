const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CTJ80M6Z.js","assets/editor-C1kFsgib.js","assets/vendor-BSeQcPOp.js","assets/terminal-CrsawV6m.js","assets/index-Ck717BCg.css","assets/index-BFZSLiei.js","assets/event-5Z58KdLz.js","assets/window-DAD20gJq.js"])))=>i.map(i=>d[i]);
import{_ as w}from"./index-CTJ80M6Z.js";import"./editor-C1kFsgib.js";import"./vendor-BSeQcPOp.js";import"./terminal-CrsawV6m.js";async function n(){return await w(()=>import("./index-CTJ80M6Z.js").then(t=>t.e),__vite__mapDeps([0,1,2,3,4]))}async function m(){return await w(()=>import("./index-CTJ80M6Z.js").then(t=>t.p),__vite__mapDeps([0,1,2,3,4]))}async function _(){return await w(()=>import("./index-CTJ80M6Z.js").then(t=>t.g),__vite__mapDeps([0,1,2,3,4]))}async function v(){return await w(()=>import("./index-CTJ80M6Z.js").then(t=>t.l),__vite__mapDeps([0,1,2,3,4]))}async function g(){return await w(()=>import("./index-BFZSLiei.js"),__vite__mapDeps([5,0,1,2,3,4]))}async function h(){return await w(()=>import("./event-5Z58KdLz.js"),__vite__mapDeps([6,0,1,2,3,4]))}function p(t){return t?{AppData:14,AppConfig:13,Home:22,Document:6,Desktop:5,Download:7}[t]:void 0}const T={type:"tauri",fs:{async readTextFile(t,a){return await(await _()).readTextFile(t,{baseDir:p(a?.baseDir)})},async writeTextFile(t,a,e){await(await _()).writeTextFile(t,a,{baseDir:p(e?.baseDir)})},async readDir(t){return(await(await _()).readDir(t)).map(i=>({name:i.name,isDirectory:i.isDirectory,isFile:i.isFile,isSymlink:i.isSymlink}))},async stat(t){const e=await(await _()).stat(t);return{name:t.split("/").pop()||t,isDirectory:e.isDirectory,isFile:e.isFile,size:e.size,modifiedAt:e.mtime?new Date(e.mtime):void 0}},async exists(t,a){return await(await _()).exists(t,{baseDir:p(a?.baseDir)})},async mkdir(t,a){await(await _()).mkdir(t,{baseDir:p(a?.baseDir),recursive:a?.recursive})},async remove(t,a){const{invoke:e}=await n();await e("fs_delete",{path:t,isDirectory:a?.recursive??!1})},async rename(t,a){const{invoke:e}=await n();await e("fs_rename",{oldPath:t,newPath:a})},async copy(t,a,e){const{invoke:i}=await n();await i("fs_copy",{source:t,destination:a,isDirectory:e?.recursive??!1})}},path:{async join(...t){const{join:a}=await m();return await a(...t)},async homeDir(){const{homeDir:t}=await m();return await t()},async appDataDir(){const{appDataDir:t}=await m();return await t()},dirname(t){const a=t.split("/");return a.pop(),a.join("/")||"/"},basename(t){return t.split("/").pop()||t}},shell:{createCommand(t,a,e){const i=[],r=[],s=[],u=[];return{stdout:{on(l,o){l==="data"&&i.push(o)}},stderr:{on(l,o){l==="data"&&r.push(o)}},on(l,o){l==="close"&&s.push(o),l==="error"&&u.push(o)},async spawn(){const o=(await v()).Command.create(t,a??[],{env:e?.env});o.stdout.on("data",c=>{i.forEach(d=>d(c))}),o.stderr.on("data",c=>{r.forEach(d=>d(c))}),o.on("close",c=>{s.forEach(d=>d({code:c.code??0,signal:c.signal?.toString()}))}),o.on("error",c=>{u.forEach(d=>d(c))});const y=await o.spawn();return{pid:y.pid,async write(c){await y.write(c)},async kill(){await y.kill()}}}}}},pty:{spawn(t,a,e){let i=null,r={dataCallbacks:[],exitCallbacks:[]};return console.log("[Tauri PTY] Starting import and spawn:",t,a),w(()=>import("./index.es-DC5H27zq.js"),[]).then(s=>{console.log("[Tauri PTY] Module loaded, spawning:",t),i=s.spawn(t,a,{cols:e?.cols??80,rows:e?.rows??24,cwd:e?.cwd,env:e?.env}),console.log("[Tauri PTY] Spawned, pid:",i?.pid),console.log("[Tauri PTY] Wiring up",r.dataCallbacks.length,"data callbacks and",r.exitCallbacks.length,"exit callbacks"),r.dataCallbacks.forEach(u=>i?.onData(u)),r.exitCallbacks.forEach(u=>i?.onExit(u))}).catch(s=>{console.error("[Tauri PTY] Failed to spawn:",s)}),{get pid(){return i?.pid??0},onData(s){i?i.onData(s):r.dataCallbacks.push(s)},onExit(s){i?i.onExit(s):r.exitCallbacks.push(s)},write(s){i?.write(s)},resize(s,u){i?.resize(s,u)},kill(){i?.kill()}}}},http:{async fetch(t,a){const e=await globalThis.fetch(t,{method:a?.method??"GET",headers:a?.headers,body:a?.body,signal:a?.timeout?AbortSignal.timeout(a.timeout):void 0}),i={};return e.headers.forEach((r,s)=>{i[s]=r}),{status:e.status,statusText:e.statusText,headers:i,body:await e.text(),ok:e.ok}}},window:{async createNew(){const{invoke:t}=await n();return await t("create_new_window")},async close(){const{getCurrentWindow:t}=await w(async()=>{const{getCurrentWindow:a}=await import("./window-DAD20gJq.js");return{getCurrentWindow:a}},__vite__mapDeps([7,0,1,2,3,4,6]));await t().close()},async minimize(){const{getCurrentWindow:t}=await w(async()=>{const{getCurrentWindow:a}=await import("./window-DAD20gJq.js");return{getCurrentWindow:a}},__vite__mapDeps([7,0,1,2,3,4,6]));await t().minimize()},async maximize(){const{getCurrentWindow:t}=await w(async()=>{const{getCurrentWindow:a}=await import("./window-DAD20gJq.js");return{getCurrentWindow:a}},__vite__mapDeps([7,0,1,2,3,4,6]));await t().maximize()},async setVibrancy(t){const{invoke:a}=await n();await a("set_window_vibrancy",{vibrancy:t})},async setOpacity(t){const{invoke:a}=await n();await a("set_window_opacity",{opacity:t})},async getCount(){const{invoke:t}=await n();return await t("get_window_count")}},webview:{async create(t,a,e){const{invoke:i}=await n();return await i("create_embedded_webview",{webviewId:t,url:a,x:e.x,y:e.y,width:e.width,height:e.height})},async updateBounds(t,a){const{invoke:e}=await n();await e("update_webview_bounds",{webviewId:t,x:a.x,y:a.y,width:a.width,height:a.height})},async navigate(t,a){const{invoke:e}=await n();await e("navigate_webview",{webviewId:t,url:a})},async destroy(t){const{invoke:a}=await n();await a("destroy_webview",{webviewId:t})},async executeScript(t,a){const{invoke:e}=await n();return await e("execute_webview_script",{webviewId:t,script:a})},async hideAll(){const{invoke:t}=await n();await t("hide_all_webviews")},async showAll(){const{invoke:t}=await n();await t("show_all_webviews")}},git:{async status(t){const{invoke:a}=await n(),e=await a("get_git_status",{path:t});return{currentBranch:e.current_branch,branches:e.branches,staged:e.staged,unstaged:e.unstaged}},async stageFile(t,a){const{invoke:e}=await n();await e("git_stage_file",{path:t,file:a})},async unstageFile(t,a){const{invoke:e}=await n();await e("git_unstage_file",{path:t,file:a})},async commit(t,a){const{invoke:e}=await n();await e("git_commit",{path:t,message:a})},async push(t){const{invoke:a}=await n();await a("git_push",{path:t})},async checkoutBranch(t,a){const{invoke:e}=await n();await e("git_checkout_branch",{path:t,branch:a})}},system:{async openUrl(t){const{openUrl:a}=await g();await a(t)},async getCurrentDirectory(){const{invoke:t}=await n();return await t("get_current_directory")}},events:{async listen(t,a){const{listen:e}=await h();return await e(t,i=>a(i.payload))},async emit(t,a){const{emit:e}=await h();await e(t,a)}},menu:{async showSplitContextMenu(t,a,e,i){const{invoke:r}=await n();return await r("show_split_context_menu",{x:t,y:a,paneId:e,canClose:i})}}};export{T as tauriPlatform};
